!function(t){function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}var r={};a.m=t,a.c=r,a.i=function(t){return t},a.d=function(t,r,e){a.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},a.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(r,"a",r),r},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="",a(a.s=28)}([function(t,a,r){(function(t){var r,e,n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(i,l){if("object"==o(a)&&"object"==o(t))t.exports=l();else{e=[],r=l,void 0!==(n="function"==typeof r?r.apply(a,e):r)&&(t.exports=n)}}(0,function(){return function(t){function a(e){if(r[e])return r[e].exports;var n=r[e]={exports:{},id:e,loaded:!1};return t[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}var r={};return a.m=t,a.c=r,a.p="",a(0)}([function(t,a,r){a.glMatrix=r(1),a.mat2=r(2),a.mat2d=r(3),a.mat3=r(4),a.mat4=r(5),a.quat=r(6),a.vec2=r(9),a.vec3=r(7),a.vec4=r(8)},function(t,a){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.ENABLE_SIMD=!1,r.SIMD_AVAILABLE=r.ARRAY_TYPE===this.Float32Array&&"SIMD"in this,r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE,r.setMatrixArrayType=function(t){r.ARRAY_TYPE=t};var e=Math.PI/180;r.toRadian=function(t){return t*e},r.equals=function(t,a){return Math.abs(t-a)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(a))},t.exports=r},function(t,a,r){var e=r(1),n={};n.create=function(){var t=new e.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.clone=function(t){var a=new e.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.fromValues=function(t,a,r,n){var o=new e.ARRAY_TYPE(4);return o[0]=t,o[1]=a,o[2]=r,o[3]=n,o},n.set=function(t,a,r,e,n){return t[0]=a,t[1]=r,t[2]=e,t[3]=n,t},n.transpose=function(t,a){if(t===a){var r=a[1];t[1]=a[2],t[2]=r}else t[0]=a[0],t[1]=a[2],t[2]=a[1],t[3]=a[3];return t},n.invert=function(t,a){var r=a[0],e=a[1],n=a[2],o=a[3],i=r*o-n*e;return i?(i=1/i,t[0]=o*i,t[1]=-e*i,t[2]=-n*i,t[3]=r*i,t):null},n.adjoint=function(t,a){var r=a[0];return t[0]=a[3],t[1]=-a[1],t[2]=-a[2],t[3]=r,t},n.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},n.multiply=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=r[0],u=r[1],s=r[2],M=r[3];return t[0]=e*l+o*u,t[1]=n*l+i*u,t[2]=e*s+o*M,t[3]=n*s+i*M,t},n.mul=n.multiply,n.rotate=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=Math.sin(r),u=Math.cos(r);return t[0]=e*u+o*l,t[1]=n*u+i*l,t[2]=e*-l+o*u,t[3]=n*-l+i*u,t},n.scale=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=r[0],u=r[1];return t[0]=e*l,t[1]=n*l,t[2]=o*u,t[3]=i*u,t},n.fromRotation=function(t,a){var r=Math.sin(a),e=Math.cos(a);return t[0]=e,t[1]=r,t[2]=-r,t[3]=e,t},n.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t},n.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},n.LDU=function(t,a,r,e){return t[2]=e[2]/e[0],r[0]=e[0],r[1]=e[1],r[3]=e[3]-t[2]*r[1],[t,a,r]},n.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t},n.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t},n.sub=n.subtract,n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},n.equals=function(t,a){var r=t[0],n=t[1],o=t[2],i=t[3],l=a[0],u=a[1],s=a[2],M=a[3];return Math.abs(r-l)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-u)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-s)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-M)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))},n.multiplyScalar=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t},n.multiplyScalarAndAdd=function(t,a,r,e){return t[0]=a[0]+r[0]*e,t[1]=a[1]+r[1]*e,t[2]=a[2]+r[2]*e,t[3]=a[3]+r[3]*e,t},t.exports=n},function(t,a,r){var e=r(1),n={};n.create=function(){var t=new e.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.clone=function(t){var a=new e.ARRAY_TYPE(6);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.fromValues=function(t,a,r,n,o,i){var l=new e.ARRAY_TYPE(6);return l[0]=t,l[1]=a,l[2]=r,l[3]=n,l[4]=o,l[5]=i,l},n.set=function(t,a,r,e,n,o,i){return t[0]=a,t[1]=r,t[2]=e,t[3]=n,t[4]=o,t[5]=i,t},n.invert=function(t,a){var r=a[0],e=a[1],n=a[2],o=a[3],i=a[4],l=a[5],u=r*o-e*n;return u?(u=1/u,t[0]=o*u,t[1]=-e*u,t[2]=-n*u,t[3]=r*u,t[4]=(n*l-o*i)*u,t[5]=(e*i-r*l)*u,t):null},n.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},n.multiply=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=a[4],u=a[5],s=r[0],M=r[1],c=r[2],f=r[3],h=r[4],x=r[5];return t[0]=e*s+o*M,t[1]=n*s+i*M,t[2]=e*c+o*f,t[3]=n*c+i*f,t[4]=e*h+o*x+l,t[5]=n*h+i*x+u,t},n.mul=n.multiply,n.rotate=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=a[4],u=a[5],s=Math.sin(r),M=Math.cos(r);return t[0]=e*M+o*s,t[1]=n*M+i*s,t[2]=e*-s+o*M,t[3]=n*-s+i*M,t[4]=l,t[5]=u,t},n.scale=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=a[4],u=a[5],s=r[0],M=r[1];return t[0]=e*s,t[1]=n*s,t[2]=o*M,t[3]=i*M,t[4]=l,t[5]=u,t},n.translate=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=a[4],u=a[5],s=r[0],M=r[1];return t[0]=e,t[1]=n,t[2]=o,t[3]=i,t[4]=e*s+o*M+l,t[5]=n*s+i*M+u,t},n.fromRotation=function(t,a){var r=Math.sin(a),e=Math.cos(a);return t[0]=e,t[1]=r,t[2]=-r,t[3]=e,t[4]=0,t[5]=0,t},n.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t[4]=0,t[5]=0,t},n.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=a[0],t[5]=a[1],t},n.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},n.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t},n.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t},n.sub=n.subtract,n.multiplyScalar=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t},n.multiplyScalarAndAdd=function(t,a,r,e){return t[0]=a[0]+r[0]*e,t[1]=a[1]+r[1]*e,t[2]=a[2]+r[2]*e,t[3]=a[3]+r[3]*e,t[4]=a[4]+r[4]*e,t[5]=a[5]+r[5]*e,t},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]},n.equals=function(t,a){var r=t[0],n=t[1],o=t[2],i=t[3],l=t[4],u=t[5],s=a[0],M=a[1],c=a[2],f=a[3],h=a[4],x=a[5];return Math.abs(r-s)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-M)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(o-c)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-f)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(l-h)<=e.EPSILON*Math.max(1,Math.abs(l),Math.abs(h))&&Math.abs(u-x)<=e.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))},t.exports=n},function(t,a,r){var e=r(1),n={};n.create=function(){var t=new e.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat4=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[4],t[4]=a[5],t[5]=a[6],t[6]=a[8],t[7]=a[9],t[8]=a[10],t},n.clone=function(t){var a=new e.ARRAY_TYPE(9);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},n.fromValues=function(t,a,r,n,o,i,l,u,s){var M=new e.ARRAY_TYPE(9);return M[0]=t,M[1]=a,M[2]=r,M[3]=n,M[4]=o,M[5]=i,M[6]=l,M[7]=u,M[8]=s,M},n.set=function(t,a,r,e,n,o,i,l,u,s){return t[0]=a,t[1]=r,t[2]=e,t[3]=n,t[4]=o,t[5]=i,t[6]=l,t[7]=u,t[8]=s,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,a){if(t===a){var r=a[1],e=a[2],n=a[5];t[1]=a[3],t[2]=a[6],t[3]=r,t[5]=a[7],t[6]=e,t[7]=n}else t[0]=a[0],t[1]=a[3],t[2]=a[6],t[3]=a[1],t[4]=a[4],t[5]=a[7],t[6]=a[2],t[7]=a[5],t[8]=a[8];return t},n.invert=function(t,a){var r=a[0],e=a[1],n=a[2],o=a[3],i=a[4],l=a[5],u=a[6],s=a[7],M=a[8],c=M*i-l*s,f=-M*o+l*u,h=s*o-i*u,x=r*c+e*f+n*h;return x?(x=1/x,t[0]=c*x,t[1]=(-M*e+n*s)*x,t[2]=(l*e-n*i)*x,t[3]=f*x,t[4]=(M*r-n*u)*x,t[5]=(-l*r+n*o)*x,t[6]=h*x,t[7]=(-s*r+e*u)*x,t[8]=(i*r-e*o)*x,t):null},n.adjoint=function(t,a){var r=a[0],e=a[1],n=a[2],o=a[3],i=a[4],l=a[5],u=a[6],s=a[7],M=a[8];return t[0]=i*M-l*s,t[1]=n*s-e*M,t[2]=e*l-n*i,t[3]=l*u-o*M,t[4]=r*M-n*u,t[5]=n*o-r*l,t[6]=o*s-i*u,t[7]=e*u-r*s,t[8]=r*i-e*o,t},n.determinant=function(t){var a=t[0],r=t[1],e=t[2],n=t[3],o=t[4],i=t[5],l=t[6],u=t[7],s=t[8];return a*(s*o-i*u)+r*(-s*n+i*l)+e*(u*n-o*l)},n.multiply=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=a[4],u=a[5],s=a[6],M=a[7],c=a[8],f=r[0],h=r[1],x=r[2],m=r[3],d=r[4],S=r[5],I=r[6],D=r[7],b=r[8];return t[0]=f*e+h*i+x*s,t[1]=f*n+h*l+x*M,t[2]=f*o+h*u+x*c,t[3]=m*e+d*i+S*s,t[4]=m*n+d*l+S*M,t[5]=m*o+d*u+S*c,t[6]=I*e+D*i+b*s,t[7]=I*n+D*l+b*M,t[8]=I*o+D*u+b*c,t},n.mul=n.multiply,n.translate=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=a[4],u=a[5],s=a[6],M=a[7],c=a[8],f=r[0],h=r[1];return t[0]=e,t[1]=n,t[2]=o,t[3]=i,t[4]=l,t[5]=u,t[6]=f*e+h*i+s,t[7]=f*n+h*l+M,t[8]=f*o+h*u+c,t},n.rotate=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=a[4],u=a[5],s=a[6],M=a[7],c=a[8],f=Math.sin(r),h=Math.cos(r);return t[0]=h*e+f*i,t[1]=h*n+f*l,t[2]=h*o+f*u,t[3]=h*i-f*e,t[4]=h*l-f*n,t[5]=h*u-f*o,t[6]=s,t[7]=M,t[8]=c,t},n.scale=function(t,a,r){var e=r[0],n=r[1];return t[0]=e*a[0],t[1]=e*a[1],t[2]=e*a[2],t[3]=n*a[3],t[4]=n*a[4],t[5]=n*a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},n.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=a[0],t[7]=a[1],t[8]=1,t},n.fromRotation=function(t,a){var r=Math.sin(a),e=Math.cos(a);return t[0]=e,t[1]=r,t[2]=0,t[3]=-r,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=a[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=0,t[3]=a[2],t[4]=a[3],t[5]=0,t[6]=a[4],t[7]=a[5],t[8]=1,t},n.fromQuat=function(t,a){var r=a[0],e=a[1],n=a[2],o=a[3],i=r+r,l=e+e,u=n+n,s=r*i,M=e*i,c=e*l,f=n*i,h=n*l,x=n*u,m=o*i,d=o*l,S=o*u;return t[0]=1-c-x,t[3]=M-S,t[6]=f+d,t[1]=M+S,t[4]=1-s-x,t[7]=h-m,t[2]=f-d,t[5]=h+m,t[8]=1-s-c,t},n.normalFromMat4=function(t,a){var r=a[0],e=a[1],n=a[2],o=a[3],i=a[4],l=a[5],u=a[6],s=a[7],M=a[8],c=a[9],f=a[10],h=a[11],x=a[12],m=a[13],d=a[14],S=a[15],I=r*l-e*i,D=r*u-n*i,b=r*s-o*i,v=e*u-n*l,F=e*s-o*l,g=n*s-o*u,p=M*m-c*x,R=M*d-f*x,A=M*S-h*x,E=c*d-f*m,w=c*S-h*m,P=f*S-h*d,z=I*P-D*w+b*E+v*A-F*R+g*p;return z?(z=1/z,t[0]=(l*P-u*w+s*E)*z,t[1]=(u*A-i*P-s*R)*z,t[2]=(i*w-l*A+s*p)*z,t[3]=(n*w-e*P-o*E)*z,t[4]=(r*P-n*A+o*R)*z,t[5]=(e*A-r*w-o*p)*z,t[6]=(m*g-d*F+S*v)*z,t[7]=(d*b-x*g-S*D)*z,t[8]=(x*F-m*b+S*I)*z,t):null},n.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t[6]=a[6]+r[6],t[7]=a[7]+r[7],t[8]=a[8]+r[8],t},n.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t[6]=a[6]-r[6],t[7]=a[7]-r[7],t[8]=a[8]-r[8],t},n.sub=n.subtract,n.multiplyScalar=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*r,t},n.multiplyScalarAndAdd=function(t,a,r,e){return t[0]=a[0]+r[0]*e,t[1]=a[1]+r[1]*e,t[2]=a[2]+r[2]*e,t[3]=a[3]+r[3]*e,t[4]=a[4]+r[4]*e,t[5]=a[5]+r[5]*e,t[6]=a[6]+r[6]*e,t[7]=a[7]+r[7]*e,t[8]=a[8]+r[8]*e,t},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]},n.equals=function(t,a){var r=t[0],n=t[1],o=t[2],i=t[3],l=t[4],u=t[5],s=t[6],M=t[7],c=t[8],f=a[0],h=a[1],x=a[2],m=a[3],d=a[4],S=a[5],I=t[6],D=a[7],b=a[8];return Math.abs(r-f)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-h)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(o-x)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(i-m)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(l-d)<=e.EPSILON*Math.max(1,Math.abs(l),Math.abs(d))&&Math.abs(u-S)<=e.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(s-I)<=e.EPSILON*Math.max(1,Math.abs(s),Math.abs(I))&&Math.abs(M-D)<=e.EPSILON*Math.max(1,Math.abs(M),Math.abs(D))&&Math.abs(c-b)<=e.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))},t.exports=n},function(t,a,r){var e=r(1),n={scalar:{},SIMD:{}};n.create=function(){var t=new e.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.clone=function(t){var a=new e.ARRAY_TYPE(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},n.fromValues=function(t,a,r,n,o,i,l,u,s,M,c,f,h,x,m,d){var S=new e.ARRAY_TYPE(16);return S[0]=t,S[1]=a,S[2]=r,S[3]=n,S[4]=o,S[5]=i,S[6]=l,S[7]=u,S[8]=s,S[9]=M,S[10]=c,S[11]=f,S[12]=h,S[13]=x,S[14]=m,S[15]=d,S},n.set=function(t,a,r,e,n,o,i,l,u,s,M,c,f,h,x,m,d){return t[0]=a,t[1]=r,t[2]=e,t[3]=n,t[4]=o,t[5]=i,t[6]=l,t[7]=u,t[8]=s,t[9]=M,t[10]=c,t[11]=f,t[12]=h,t[13]=x,t[14]=m,t[15]=d,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.scalar.transpose=function(t,a){if(t===a){var r=a[1],e=a[2],n=a[3],o=a[6],i=a[7],l=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=r,t[6]=a[9],t[7]=a[13],t[8]=e,t[9]=o,t[11]=a[14],t[12]=n,t[13]=i,t[14]=l}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t},n.SIMD.transpose=function(t,a){var r,e,n,o,i,l,u,s,M,c;return r=SIMD.Float32x4.load(a,0),e=SIMD.Float32x4.load(a,4),n=SIMD.Float32x4.load(a,8),o=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4.shuffle(r,e,0,1,4,5),l=SIMD.Float32x4.shuffle(n,o,0,1,4,5),u=SIMD.Float32x4.shuffle(i,l,0,2,4,6),s=SIMD.Float32x4.shuffle(i,l,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,s),i=SIMD.Float32x4.shuffle(r,e,2,3,6,7),l=SIMD.Float32x4.shuffle(n,o,2,3,6,7),M=SIMD.Float32x4.shuffle(i,l,0,2,4,6),c=SIMD.Float32x4.shuffle(i,l,1,3,5,7),SIMD.Float32x4.store(t,8,M),SIMD.Float32x4.store(t,12,c),t},n.transpose=e.USE_SIMD?n.SIMD.transpose:n.scalar.transpose,n.scalar.invert=function(t,a){var r=a[0],e=a[1],n=a[2],o=a[3],i=a[4],l=a[5],u=a[6],s=a[7],M=a[8],c=a[9],f=a[10],h=a[11],x=a[12],m=a[13],d=a[14],S=a[15],I=r*l-e*i,D=r*u-n*i,b=r*s-o*i,v=e*u-n*l,F=e*s-o*l,g=n*s-o*u,p=M*m-c*x,R=M*d-f*x,A=M*S-h*x,E=c*d-f*m,w=c*S-h*m,P=f*S-h*d,z=I*P-D*w+b*E+v*A-F*R+g*p;return z?(z=1/z,t[0]=(l*P-u*w+s*E)*z,t[1]=(n*w-e*P-o*E)*z,t[2]=(m*g-d*F+S*v)*z,t[3]=(f*F-c*g-h*v)*z,t[4]=(u*A-i*P-s*R)*z,t[5]=(r*P-n*A+o*R)*z,t[6]=(d*b-x*g-S*D)*z,t[7]=(M*g-f*b+h*D)*z,t[8]=(i*w-l*A+s*p)*z,t[9]=(e*A-r*w-o*p)*z,t[10]=(x*F-m*b+S*I)*z,t[11]=(c*b-M*F-h*I)*z,t[12]=(l*R-i*E-u*p)*z,t[13]=(r*E-e*R+n*p)*z,t[14]=(m*D-x*v-d*I)*z,t[15]=(M*v-c*D+f*I)*z,t):null},n.SIMD.invert=function(t,a){var r,e,n,o,i,l,u,s,M,c,f=SIMD.Float32x4.load(a,0),h=SIMD.Float32x4.load(a,4),x=SIMD.Float32x4.load(a,8),m=SIMD.Float32x4.load(a,12);return i=SIMD.Float32x4.shuffle(f,h,0,1,4,5),e=SIMD.Float32x4.shuffle(x,m,0,1,4,5),r=SIMD.Float32x4.shuffle(i,e,0,2,4,6),e=SIMD.Float32x4.shuffle(e,i,1,3,5,7),i=SIMD.Float32x4.shuffle(f,h,2,3,6,7),o=SIMD.Float32x4.shuffle(x,m,2,3,6,7),n=SIMD.Float32x4.shuffle(i,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,i,1,3,5,7),i=SIMD.Float32x4.mul(n,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),l=SIMD.Float32x4.mul(e,i),u=SIMD.Float32x4.mul(r,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,i),l),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.mul(e,n),i=SIMD.Float32x4.swizzle(i,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),l),M=SIMD.Float32x4.mul(r,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,i)),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),i=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,2,3,0,1),o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),n=SIMD.Float32x4.swizzle(n,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,i),l),s=SIMD.Float32x4.mul(r,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(n,i)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),i=SIMD.Float32x4.mul(r,e),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),s),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),M),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),s),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(n,i)),i=SIMD.Float32x4.mul(r,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(n,i)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,i),s),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,i),u),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(e,i)),i=SIMD.Float32x4.mul(r,n),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),u),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(e,i)),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,i)),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,i),M),c=SIMD.Float32x4.mul(r,l),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,2,3,0,1),c),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,1,0,3,2),c),i=SIMD.Float32x4.reciprocalApproximation(c),c=SIMD.Float32x4.sub(SIMD.Float32x4.add(i,i),SIMD.Float32x4.mul(c,SIMD.Float32x4.mul(i,i))),(c=SIMD.Float32x4.swizzle(c,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(c,l)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(c,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(c,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(c,M)),t):null},n.invert=e.USE_SIMD?n.SIMD.invert:n.scalar.invert,n.scalar.adjoint=function(t,a){var r=a[0],e=a[1],n=a[2],o=a[3],i=a[4],l=a[5],u=a[6],s=a[7],M=a[8],c=a[9],f=a[10],h=a[11],x=a[12],m=a[13],d=a[14],S=a[15];return t[0]=l*(f*S-h*d)-c*(u*S-s*d)+m*(u*h-s*f),t[1]=-(e*(f*S-h*d)-c*(n*S-o*d)+m*(n*h-o*f)),t[2]=e*(u*S-s*d)-l*(n*S-o*d)+m*(n*s-o*u),t[3]=-(e*(u*h-s*f)-l*(n*h-o*f)+c*(n*s-o*u)),t[4]=-(i*(f*S-h*d)-M*(u*S-s*d)+x*(u*h-s*f)),t[5]=r*(f*S-h*d)-M*(n*S-o*d)+x*(n*h-o*f),t[6]=-(r*(u*S-s*d)-i*(n*S-o*d)+x*(n*s-o*u)),t[7]=r*(u*h-s*f)-i*(n*h-o*f)+M*(n*s-o*u),t[8]=i*(c*S-h*m)-M*(l*S-s*m)+x*(l*h-s*c),t[9]=-(r*(c*S-h*m)-M*(e*S-o*m)+x*(e*h-o*c)),t[10]=r*(l*S-s*m)-i*(e*S-o*m)+x*(e*s-o*l),t[11]=-(r*(l*h-s*c)-i*(e*h-o*c)+M*(e*s-o*l)),t[12]=-(i*(c*d-f*m)-M*(l*d-u*m)+x*(l*f-u*c)),t[13]=r*(c*d-f*m)-M*(e*d-n*m)+x*(e*f-n*c),t[14]=-(r*(l*d-u*m)-i*(e*d-n*m)+x*(e*u-n*l)),t[15]=r*(l*f-u*c)-i*(e*f-n*c)+M*(e*u-n*l),t},n.SIMD.adjoint=function(t,a){var r,e,n,o,i,l,u,s,M,c,f,h,x;return r=SIMD.Float32x4.load(a,0),e=SIMD.Float32x4.load(a,4),n=SIMD.Float32x4.load(a,8),o=SIMD.Float32x4.load(a,12),M=SIMD.Float32x4.shuffle(r,e,0,1,4,5),l=SIMD.Float32x4.shuffle(n,o,0,1,4,5),i=SIMD.Float32x4.shuffle(M,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,M,1,3,5,7),M=SIMD.Float32x4.shuffle(r,e,2,3,6,7),s=SIMD.Float32x4.shuffle(n,o,2,3,6,7),u=SIMD.Float32x4.shuffle(M,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,M,1,3,5,7),M=SIMD.Float32x4.mul(u,s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),c=SIMD.Float32x4.mul(l,M),f=SIMD.Float32x4.mul(i,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,M),c),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,M),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),M=SIMD.Float32x4.mul(l,u),M=SIMD.Float32x4.swizzle(M,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),c),x=SIMD.Float32x4.mul(i,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(s,M)),x=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,M),x),x=SIMD.Float32x4.swizzle(x,2,3,0,1),M=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,3,0,1),s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,M),c),h=SIMD.Float32x4.mul(i,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(u,M)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,M),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),M=SIMD.Float32x4.mul(i,l),M=SIMD.Float32x4.swizzle(M,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),h),x=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,M),x),M=SIMD.Float32x4.swizzle(M,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,M),h),x=SIMD.Float32x4.sub(x,SIMD.Float32x4.mul(u,M)),M=SIMD.Float32x4.mul(i,s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,M)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,M),h),M=SIMD.Float32x4.swizzle(M,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,M),f),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,M)),M=SIMD.Float32x4.mul(i,u),M=SIMD.Float32x4.swizzle(M,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),f),x=SIMD.Float32x4.sub(x,SIMD.Float32x4.mul(l,M)),M=SIMD.Float32x4.swizzle(M,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,M)),x=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,M),x),SIMD.Float32x4.store(t,0,c),SIMD.Float32x4.store(t,4,f),SIMD.Float32x4.store(t,8,h),SIMD.Float32x4.store(t,12,x),t},n.adjoint=e.USE_SIMD?n.SIMD.adjoint:n.scalar.adjoint,n.determinant=function(t){var a=t[0],r=t[1],e=t[2],n=t[3],o=t[4],i=t[5],l=t[6],u=t[7],s=t[8],M=t[9],c=t[10],f=t[11],h=t[12],x=t[13],m=t[14],d=t[15];return(a*i-r*o)*(c*d-f*m)-(a*l-e*o)*(M*d-f*x)+(a*u-n*o)*(M*m-c*x)+(r*l-e*i)*(s*d-f*h)-(r*u-n*i)*(s*m-c*h)+(e*u-n*l)*(s*x-M*h)},n.SIMD.multiply=function(t,a,r){var e=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),i=SIMD.Float32x4.load(a,12),l=SIMD.Float32x4.load(r,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,3,3,3,3),i))));SIMD.Float32x4.store(t,0,u);var s=SIMD.Float32x4.load(r,4),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),i))));SIMD.Float32x4.store(t,4,M);var c=SIMD.Float32x4.load(r,8),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),i))));SIMD.Float32x4.store(t,8,f);var h=SIMD.Float32x4.load(r,12),x=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),i))));return SIMD.Float32x4.store(t,12,x),t},n.scalar.multiply=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=a[4],u=a[5],s=a[6],M=a[7],c=a[8],f=a[9],h=a[10],x=a[11],m=a[12],d=a[13],S=a[14],I=a[15],D=r[0],b=r[1],v=r[2],F=r[3];return t[0]=D*e+b*l+v*c+F*m,t[1]=D*n+b*u+v*f+F*d,t[2]=D*o+b*s+v*h+F*S,t[3]=D*i+b*M+v*x+F*I,D=r[4],b=r[5],v=r[6],F=r[7],t[4]=D*e+b*l+v*c+F*m,t[5]=D*n+b*u+v*f+F*d,t[6]=D*o+b*s+v*h+F*S,t[7]=D*i+b*M+v*x+F*I,D=r[8],b=r[9],v=r[10],F=r[11],t[8]=D*e+b*l+v*c+F*m,t[9]=D*n+b*u+v*f+F*d,t[10]=D*o+b*s+v*h+F*S,t[11]=D*i+b*M+v*x+F*I,D=r[12],b=r[13],v=r[14],F=r[15],t[12]=D*e+b*l+v*c+F*m,t[13]=D*n+b*u+v*f+F*d,t[14]=D*o+b*s+v*h+F*S,t[15]=D*i+b*M+v*x+F*I,t},n.multiply=e.USE_SIMD?n.SIMD.multiply:n.scalar.multiply,n.mul=n.multiply,n.scalar.translate=function(t,a,r){var e,n,o,i,l,u,s,M,c,f,h,x,m=r[0],d=r[1],S=r[2];return a===t?(t[12]=a[0]*m+a[4]*d+a[8]*S+a[12],t[13]=a[1]*m+a[5]*d+a[9]*S+a[13],t[14]=a[2]*m+a[6]*d+a[10]*S+a[14],t[15]=a[3]*m+a[7]*d+a[11]*S+a[15]):(e=a[0],n=a[1],o=a[2],i=a[3],l=a[4],u=a[5],s=a[6],M=a[7],c=a[8],f=a[9],h=a[10],x=a[11],t[0]=e,t[1]=n,t[2]=o,t[3]=i,t[4]=l,t[5]=u,t[6]=s,t[7]=M,t[8]=c,t[9]=f,t[10]=h,t[11]=x,t[12]=e*m+l*d+c*S+a[12],t[13]=n*m+u*d+f*S+a[13],t[14]=o*m+s*d+h*S+a[14],t[15]=i*m+M*d+x*S+a[15]),t},n.SIMD.translate=function(t,a,r){var e=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),i=SIMD.Float32x4.load(a,12),l=SIMD.Float32x4(r[0],r[1],r[2],0);a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11]),e=SIMD.Float32x4.mul(e,SIMD.Float32x4.swizzle(l,0,0,0,0)),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(l,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(l,2,2,2,2));var u=SIMD.Float32x4.add(e,SIMD.Float32x4.add(n,SIMD.Float32x4.add(o,i)));return SIMD.Float32x4.store(t,12,u),t},n.translate=e.USE_SIMD?n.SIMD.translate:n.scalar.translate,n.scalar.scale=function(t,a,r){var e=r[0],n=r[1],o=r[2];return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},n.SIMD.scale=function(t,a,r){var e,n,o,i=SIMD.Float32x4(r[0],r[1],r[2],0);return e=SIMD.Float32x4.load(a,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(e,SIMD.Float32x4.swizzle(i,0,0,0,0))),n=SIMD.Float32x4.load(a,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(i,1,1,1,1))),o=SIMD.Float32x4.load(a,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,2,2,2,2))),t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},n.scale=e.USE_SIMD?n.SIMD.scale:n.scalar.scale,n.rotate=function(t,a,r,n){var o,i,l,u,s,M,c,f,h,x,m,d,S,I,D,b,v,F,g,p,R,A,E,w,P=n[0],z=n[1],T=n[2],L=Math.sqrt(P*P+z*z+T*T);return Math.abs(L)<e.EPSILON?null:(L=1/L,P*=L,z*=L,T*=L,o=Math.sin(r),i=Math.cos(r),l=1-i,u=a[0],s=a[1],M=a[2],c=a[3],f=a[4],h=a[5],x=a[6],m=a[7],d=a[8],S=a[9],I=a[10],D=a[11],b=P*P*l+i,v=z*P*l+T*o,F=T*P*l-z*o,g=P*z*l-T*o,p=z*z*l+i,R=T*z*l+P*o,A=P*T*l+z*o,E=z*T*l-P*o,w=T*T*l+i,t[0]=u*b+f*v+d*F,t[1]=s*b+h*v+S*F,t[2]=M*b+x*v+I*F,t[3]=c*b+m*v+D*F,t[4]=u*g+f*p+d*R,t[5]=s*g+h*p+S*R,t[6]=M*g+x*p+I*R,t[7]=c*g+m*p+D*R,t[8]=u*A+f*E+d*w,t[9]=s*A+h*E+S*w,t[10]=M*A+x*E+I*w,t[11]=c*A+m*E+D*w,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)},n.scalar.rotateX=function(t,a,r){var e=Math.sin(r),n=Math.cos(r),o=a[4],i=a[5],l=a[6],u=a[7],s=a[8],M=a[9],c=a[10],f=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=o*n+s*e,t[5]=i*n+M*e,t[6]=l*n+c*e,t[7]=u*n+f*e,t[8]=s*n-o*e,t[9]=M*n-i*e,t[10]=c*n-l*e,t[11]=f*n-u*e,t},n.SIMD.rotateX=function(t,a,r){var e=SIMD.Float32x4.splat(Math.sin(r)),n=SIMD.Float32x4.splat(Math.cos(r));a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,4),i=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(i,e))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,n),SIMD.Float32x4.mul(o,e))),t},n.rotateX=e.USE_SIMD?n.SIMD.rotateX:n.scalar.rotateX,n.scalar.rotateY=function(t,a,r){var e=Math.sin(r),n=Math.cos(r),o=a[0],i=a[1],l=a[2],u=a[3],s=a[8],M=a[9],c=a[10],f=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*n-s*e,t[1]=i*n-M*e,t[2]=l*n-c*e,t[3]=u*n-f*e,t[8]=o*e+s*n,t[9]=i*e+M*n,t[10]=l*e+c*n,t[11]=u*e+f*n,t},n.SIMD.rotateY=function(t,a,r){var e=SIMD.Float32x4.splat(Math.sin(r)),n=SIMD.Float32x4.splat(Math.cos(r));a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,0),i=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(i,e))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,e),SIMD.Float32x4.mul(i,n))),t},n.rotateY=e.USE_SIMD?n.SIMD.rotateY:n.scalar.rotateY,n.scalar.rotateZ=function(t,a,r){var e=Math.sin(r),n=Math.cos(r),o=a[0],i=a[1],l=a[2],u=a[3],s=a[4],M=a[5],c=a[6],f=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*n+s*e,t[1]=i*n+M*e,t[2]=l*n+c*e,t[3]=u*n+f*e,t[4]=s*n-o*e,t[5]=M*n-i*e,t[6]=c*n-l*e,t[7]=f*n-u*e,t},n.SIMD.rotateZ=function(t,a,r){var e=SIMD.Float32x4.splat(Math.sin(r)),n=SIMD.Float32x4.splat(Math.cos(r));a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,0),i=SIMD.Float32x4.load(a,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(i,e))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,n),SIMD.Float32x4.mul(o,e))),t},n.rotateZ=e.USE_SIMD?n.SIMD.rotateZ:n.scalar.rotateZ,n.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},n.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotation=function(t,a,r){var n,o,i,l=r[0],u=r[1],s=r[2],M=Math.sqrt(l*l+u*u+s*s);return Math.abs(M)<e.EPSILON?null:(M=1/M,l*=M,u*=M,s*=M,n=Math.sin(a),o=Math.cos(a),i=1-o,t[0]=l*l*i+o,t[1]=u*l*i+s*n,t[2]=s*l*i-u*n,t[3]=0,t[4]=l*u*i-s*n,t[5]=u*u*i+o,t[6]=s*u*i+l*n,t[7]=0,t[8]=l*s*i+u*n,t[9]=u*s*i-l*n,t[10]=s*s*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},n.fromXRotation=function(t,a){var r=Math.sin(a),e=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromYRotation=function(t,a){var r=Math.sin(a),e=Math.cos(a);return t[0]=e,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromZRotation=function(t,a){var r=Math.sin(a),e=Math.cos(a);return t[0]=e,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotationTranslation=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=e+e,u=n+n,s=o+o,M=e*l,c=e*u,f=e*s,h=n*u,x=n*s,m=o*s,d=i*l,S=i*u,I=i*s;return t[0]=1-(h+m),t[1]=c+I,t[2]=f-S,t[3]=0,t[4]=c-I,t[5]=1-(M+m),t[6]=x+d,t[7]=0,t[8]=f+S,t[9]=x-d,t[10]=1-(M+h),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},n.getTranslation=function(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t},n.getRotation=function(t,a){var r=a[0]+a[5]+a[10],e=0;return r>0?(e=2*Math.sqrt(r+1),t[3]=.25*e,t[0]=(a[6]-a[9])/e,t[1]=(a[8]-a[2])/e,t[2]=(a[1]-a[4])/e):a[0]>a[5]&a[0]>a[10]?(e=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/e,t[0]=.25*e,t[1]=(a[1]+a[4])/e,t[2]=(a[8]+a[2])/e):a[5]>a[10]?(e=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/e,t[0]=(a[1]+a[4])/e,t[1]=.25*e,t[2]=(a[6]+a[9])/e):(e=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/e,t[0]=(a[8]+a[2])/e,t[1]=(a[6]+a[9])/e,t[2]=.25*e),t},n.fromRotationTranslationScale=function(t,a,r,e){var n=a[0],o=a[1],i=a[2],l=a[3],u=n+n,s=o+o,M=i+i,c=n*u,f=n*s,h=n*M,x=o*s,m=o*M,d=i*M,S=l*u,I=l*s,D=l*M,b=e[0],v=e[1],F=e[2];return t[0]=(1-(x+d))*b,t[1]=(f+D)*b,t[2]=(h-I)*b,t[3]=0,t[4]=(f-D)*v,t[5]=(1-(c+d))*v,t[6]=(m+S)*v,t[7]=0,t[8]=(h+I)*F,t[9]=(m-S)*F,t[10]=(1-(c+x))*F,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},n.fromRotationTranslationScaleOrigin=function(t,a,r,e,n){var o=a[0],i=a[1],l=a[2],u=a[3],s=o+o,M=i+i,c=l+l,f=o*s,h=o*M,x=o*c,m=i*M,d=i*c,S=l*c,I=u*s,D=u*M,b=u*c,v=e[0],F=e[1],g=e[2],p=n[0],R=n[1],A=n[2];return t[0]=(1-(m+S))*v,t[1]=(h+b)*v,t[2]=(x-D)*v,t[3]=0,t[4]=(h-b)*F,t[5]=(1-(f+S))*F,t[6]=(d+I)*F,t[7]=0,t[8]=(x+D)*g,t[9]=(d-I)*g,t[10]=(1-(f+m))*g,t[11]=0,t[12]=r[0]+p-(t[0]*p+t[4]*R+t[8]*A),t[13]=r[1]+R-(t[1]*p+t[5]*R+t[9]*A),t[14]=r[2]+A-(t[2]*p+t[6]*R+t[10]*A),t[15]=1,t},n.fromQuat=function(t,a){var r=a[0],e=a[1],n=a[2],o=a[3],i=r+r,l=e+e,u=n+n,s=r*i,M=e*i,c=e*l,f=n*i,h=n*l,x=n*u,m=o*i,d=o*l,S=o*u;return t[0]=1-c-x,t[1]=M+S,t[2]=f-d,t[3]=0,t[4]=M-S,t[5]=1-s-x,t[6]=h+m,t[7]=0,t[8]=f+d,t[9]=h-m,t[10]=1-s-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.frustum=function(t,a,r,e,n,o,i){var l=1/(r-a),u=1/(n-e),s=1/(o-i);return t[0]=2*o*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(r+a)*l,t[9]=(n+e)*u,t[10]=(i+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*s,t[15]=0,t},n.perspective=function(t,a,r,e,n){var o=1/Math.tan(a/2),i=1/(e-n);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+e)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*e*i,t[15]=0,t},n.perspectiveFromFieldOfView=function(t,a,r,e){var n=Math.tan(a.upDegrees*Math.PI/180),o=Math.tan(a.downDegrees*Math.PI/180),i=Math.tan(a.leftDegrees*Math.PI/180),l=Math.tan(a.rightDegrees*Math.PI/180),u=2/(i+l),s=2/(n+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(i-l)*u*.5,t[9]=(n-o)*s*.5,t[10]=e/(r-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*r/(r-e),t[15]=0,t},n.ortho=function(t,a,r,e,n,o,i){var l=1/(a-r),u=1/(e-n),s=1/(o-i);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(a+r)*l,t[13]=(n+e)*u,t[14]=(i+o)*s,t[15]=1,t},n.lookAt=function(t,a,r,o){var i,l,u,s,M,c,f,h,x,m,d=a[0],S=a[1],I=a[2],D=o[0],b=o[1],v=o[2],F=r[0],g=r[1],p=r[2];return Math.abs(d-F)<e.EPSILON&&Math.abs(S-g)<e.EPSILON&&Math.abs(I-p)<e.EPSILON?n.identity(t):(f=d-F,h=S-g,x=I-p,m=1/Math.sqrt(f*f+h*h+x*x),f*=m,h*=m,x*=m,i=b*x-v*h,l=v*f-D*x,u=D*h-b*f,m=Math.sqrt(i*i+l*l+u*u),m?(m=1/m,i*=m,l*=m,u*=m):(i=0,l=0,u=0),s=h*u-x*l,M=x*i-f*u,c=f*l-h*i,m=Math.sqrt(s*s+M*M+c*c),m?(m=1/m,s*=m,M*=m,c*=m):(s=0,M=0,c=0),t[0]=i,t[1]=s,t[2]=f,t[3]=0,t[4]=l,t[5]=M,t[6]=h,t[7]=0,t[8]=u,t[9]=c,t[10]=x,t[11]=0,t[12]=-(i*d+l*S+u*I),t[13]=-(s*d+M*S+c*I),t[14]=-(f*d+h*S+x*I),t[15]=1,t)},n.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},n.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t[6]=a[6]+r[6],t[7]=a[7]+r[7],t[8]=a[8]+r[8],t[9]=a[9]+r[9],t[10]=a[10]+r[10],t[11]=a[11]+r[11],t[12]=a[12]+r[12],t[13]=a[13]+r[13],t[14]=a[14]+r[14],t[15]=a[15]+r[15],t},n.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t[6]=a[6]-r[6],t[7]=a[7]-r[7],t[8]=a[8]-r[8],t[9]=a[9]-r[9],t[10]=a[10]-r[10],t[11]=a[11]-r[11],t[12]=a[12]-r[12],t[13]=a[13]-r[13],t[14]=a[14]-r[14],t[15]=a[15]-r[15],t},n.sub=n.subtract,n.multiplyScalar=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*r,t[9]=a[9]*r,t[10]=a[10]*r,t[11]=a[11]*r,t[12]=a[12]*r,t[13]=a[13]*r,t[14]=a[14]*r,t[15]=a[15]*r,t},n.multiplyScalarAndAdd=function(t,a,r,e){return t[0]=a[0]+r[0]*e,t[1]=a[1]+r[1]*e,t[2]=a[2]+r[2]*e,t[3]=a[3]+r[3]*e,t[4]=a[4]+r[4]*e,t[5]=a[5]+r[5]*e,t[6]=a[6]+r[6]*e,t[7]=a[7]+r[7]*e,t[8]=a[8]+r[8]*e,t[9]=a[9]+r[9]*e,t[10]=a[10]+r[10]*e,t[11]=a[11]+r[11]*e,t[12]=a[12]+r[12]*e,t[13]=a[13]+r[13]*e,t[14]=a[14]+r[14]*e,t[15]=a[15]+r[15]*e,t},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]},n.equals=function(t,a){var r=t[0],n=t[1],o=t[2],i=t[3],l=t[4],u=t[5],s=t[6],M=t[7],c=t[8],f=t[9],h=t[10],x=t[11],m=t[12],d=t[13],S=t[14],I=t[15],D=a[0],b=a[1],v=a[2],F=a[3],g=a[4],p=a[5],R=a[6],A=a[7],E=a[8],w=a[9],P=a[10],z=a[11],T=a[12],L=a[13],_=a[14],y=a[15];return Math.abs(r-D)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(D))&&Math.abs(n-b)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(o-v)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(i-F)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(F))&&Math.abs(l-g)<=e.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-p)<=e.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(s-R)<=e.EPSILON*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(M-A)<=e.EPSILON*Math.max(1,Math.abs(M),Math.abs(A))&&Math.abs(c-E)<=e.EPSILON*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(f-w)<=e.EPSILON*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(h-P)<=e.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(x-z)<=e.EPSILON*Math.max(1,Math.abs(x),Math.abs(z))&&Math.abs(m-T)<=e.EPSILON*Math.max(1,Math.abs(m),Math.abs(T))&&Math.abs(d-L)<=e.EPSILON*Math.max(1,Math.abs(d),Math.abs(L))&&Math.abs(S-_)<=e.EPSILON*Math.max(1,Math.abs(S),Math.abs(_))&&Math.abs(I-y)<=e.EPSILON*Math.max(1,Math.abs(I),Math.abs(y))},t.exports=n},function(t,a,r){var e=r(1),n=r(4),o=r(7),i=r(8),l={};l.create=function(){var t=new e.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},l.rotationTo=function(){var t=o.create(),a=o.fromValues(1,0,0),r=o.fromValues(0,1,0);return function(e,n,i){var u=o.dot(n,i);return-.999999>u?(o.cross(t,a,n),o.length(t)<1e-6&&o.cross(t,r,n),o.normalize(t,t),l.setAxisAngle(e,t,Math.PI),e):u>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(o.cross(t,n,i),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1+u,l.normalize(e,e))}}(),l.setAxes=function(){var t=n.create();return function(a,r,e,n){return t[0]=e[0],t[3]=e[1],t[6]=e[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],l.normalize(a,l.fromMat3(a,t))}}(),l.clone=i.clone,l.fromValues=i.fromValues,l.copy=i.copy,l.set=i.set,l.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},l.setAxisAngle=function(t,a,r){r*=.5;var e=Math.sin(r);return t[0]=e*a[0],t[1]=e*a[1],t[2]=e*a[2],t[3]=Math.cos(r),t},l.getAxisAngle=function(t,a){var r=2*Math.acos(a[3]),e=Math.sin(r/2);return 0!=e?(t[0]=a[0]/e,t[1]=a[1]/e,t[2]=a[2]/e):(t[0]=1,t[1]=0,t[2]=0),r},l.add=i.add,l.multiply=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3],l=r[0],u=r[1],s=r[2],M=r[3];return t[0]=e*M+i*l+n*s-o*u,t[1]=n*M+i*u+o*l-e*s,t[2]=o*M+i*s+e*u-n*l,t[3]=i*M-e*l-n*u-o*s,t},l.mul=l.multiply,l.scale=i.scale,l.rotateX=function(t,a,r){r*=.5;var e=a[0],n=a[1],o=a[2],i=a[3],l=Math.sin(r),u=Math.cos(r);return t[0]=e*u+i*l,t[1]=n*u+o*l,t[2]=o*u-n*l,t[3]=i*u-e*l,t},l.rotateY=function(t,a,r){r*=.5;var e=a[0],n=a[1],o=a[2],i=a[3],l=Math.sin(r),u=Math.cos(r);return t[0]=e*u-o*l,t[1]=n*u+i*l,t[2]=o*u+e*l,t[3]=i*u-n*l,t},l.rotateZ=function(t,a,r){r*=.5;var e=a[0],n=a[1],o=a[2],i=a[3],l=Math.sin(r),u=Math.cos(r);return t[0]=e*u+n*l,t[1]=n*u-e*l,t[2]=o*u+i*l,t[3]=i*u-o*l,t},l.calculateW=function(t,a){var r=a[0],e=a[1],n=a[2];return t[0]=r,t[1]=e,t[2]=n,t[3]=Math.sqrt(Math.abs(1-r*r-e*e-n*n)),t},l.dot=i.dot,l.lerp=i.lerp,l.slerp=function(t,a,r,e){var n,o,i,l,u,s=a[0],M=a[1],c=a[2],f=a[3],h=r[0],x=r[1],m=r[2],d=r[3];return o=s*h+M*x+c*m+f*d,0>o&&(o=-o,h=-h,x=-x,m=-m,d=-d),1-o>1e-6?(n=Math.acos(o),i=Math.sin(n),l=Math.sin((1-e)*n)/i,u=Math.sin(e*n)/i):(l=1-e,u=e),t[0]=l*s+u*h,t[1]=l*M+u*x,t[2]=l*c+u*m,t[3]=l*f+u*d,t},l.sqlerp=function(){var t=l.create(),a=l.create();return function(r,e,n,o,i,u){return l.slerp(t,e,i,u),l.slerp(a,n,o,u),l.slerp(r,t,a,2*u*(1-u)),r}}(),l.invert=function(t,a){var r=a[0],e=a[1],n=a[2],o=a[3],i=r*r+e*e+n*n+o*o,l=i?1/i:0;return t[0]=-r*l,t[1]=-e*l,t[2]=-n*l,t[3]=o*l,t},l.conjugate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=a[3],t},l.length=i.length,l.len=l.length,l.squaredLength=i.squaredLength,l.sqrLen=l.squaredLength,l.normalize=i.normalize,l.fromMat3=function(t,a){var r,e=a[0]+a[4]+a[8];if(e>0)r=Math.sqrt(e+1),t[3]=.5*r,r=.5/r,t[0]=(a[5]-a[7])*r,t[1]=(a[6]-a[2])*r,t[2]=(a[1]-a[3])*r;else{var n=0;a[4]>a[0]&&(n=1),a[8]>a[3*n+n]&&(n=2);var o=(n+1)%3,i=(n+2)%3;r=Math.sqrt(a[3*n+n]-a[3*o+o]-a[3*i+i]+1),t[n]=.5*r,r=.5/r,t[3]=(a[3*o+i]-a[3*i+o])*r,t[o]=(a[3*o+n]+a[3*n+o])*r,t[i]=(a[3*i+n]+a[3*n+i])*r}return t},l.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},l.exactEquals=i.exactEquals,l.equals=i.equals,t.exports=l},function(t,a,r){var e=r(1),n={};n.create=function(){var t=new e.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},n.clone=function(t){var a=new e.ARRAY_TYPE(3);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a},n.fromValues=function(t,a,r){var n=new e.ARRAY_TYPE(3);return n[0]=t,n[1]=a,n[2]=r,n},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t},n.set=function(t,a,r,e){return t[0]=a,t[1]=r,t[2]=e,t},n.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},n.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t},n.sub=n.subtract,n.multiply=function(t,a,r){return t[0]=a[0]*r[0],t[1]=a[1]*r[1],t[2]=a[2]*r[2],t},n.mul=n.multiply,n.divide=function(t,a,r){return t[0]=a[0]/r[0],t[1]=a[1]/r[1],t[2]=a[2]/r[2],t},n.div=n.divide,n.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t},n.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t},n.min=function(t,a,r){return t[0]=Math.min(a[0],r[0]),t[1]=Math.min(a[1],r[1]),t[2]=Math.min(a[2],r[2]),t},n.max=function(t,a,r){return t[0]=Math.max(a[0],r[0]),t[1]=Math.max(a[1],r[1]),t[2]=Math.max(a[2],r[2]),t},n.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t},n.scale=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t},n.scaleAndAdd=function(t,a,r,e){return t[0]=a[0]+r[0]*e,t[1]=a[1]+r[1]*e,t[2]=a[2]+r[2]*e,t},n.distance=function(t,a){var r=a[0]-t[0],e=a[1]-t[1],n=a[2]-t[2];return Math.sqrt(r*r+e*e+n*n)},n.dist=n.distance,n.squaredDistance=function(t,a){var r=a[0]-t[0],e=a[1]-t[1],n=a[2]-t[2];return r*r+e*e+n*n},n.sqrDist=n.squaredDistance,n.length=function(t){var a=t[0],r=t[1],e=t[2];return Math.sqrt(a*a+r*r+e*e)},n.len=n.length,n.squaredLength=function(t){var a=t[0],r=t[1],e=t[2];return a*a+r*r+e*e},n.sqrLen=n.squaredLength,n.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t},n.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t},n.normalize=function(t,a){var r=a[0],e=a[1],n=a[2],o=r*r+e*e+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o),t},n.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]},n.cross=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=r[0],l=r[1],u=r[2];return t[0]=n*u-o*l,t[1]=o*i-e*u,t[2]=e*l-n*i,t},n.lerp=function(t,a,r,e){var n=a[0],o=a[1],i=a[2];return t[0]=n+e*(r[0]-n),t[1]=o+e*(r[1]-o),t[2]=i+e*(r[2]-i),t},n.hermite=function(t,a,r,e,n,o){var i=o*o,l=i*(2*o-3)+1,u=i*(o-2)+o,s=i*(o-1),M=i*(3-2*o);return t[0]=a[0]*l+r[0]*u+e[0]*s+n[0]*M,t[1]=a[1]*l+r[1]*u+e[1]*s+n[1]*M,t[2]=a[2]*l+r[2]*u+e[2]*s+n[2]*M,t},n.bezier=function(t,a,r,e,n,o){var i=1-o,l=i*i,u=o*o,s=l*i,M=3*o*l,c=3*u*i,f=u*o;return t[0]=a[0]*s+r[0]*M+e[0]*c+n[0]*f,t[1]=a[1]*s+r[1]*M+e[1]*c+n[1]*f,t[2]=a[2]*s+r[2]*M+e[2]*c+n[2]*f,t},n.random=function(t,a){a=a||1;var r=2*e.RANDOM()*Math.PI,n=2*e.RANDOM()-1,o=Math.sqrt(1-n*n)*a;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=n*a,t},n.transformMat4=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=r[3]*e+r[7]*n+r[11]*o+r[15];return i=i||1,t[0]=(r[0]*e+r[4]*n+r[8]*o+r[12])/i,t[1]=(r[1]*e+r[5]*n+r[9]*o+r[13])/i,t[2]=(r[2]*e+r[6]*n+r[10]*o+r[14])/i,t},n.transformMat3=function(t,a,r){var e=a[0],n=a[1],o=a[2];return t[0]=e*r[0]+n*r[3]+o*r[6],t[1]=e*r[1]+n*r[4]+o*r[7],t[2]=e*r[2]+n*r[5]+o*r[8],t},n.transformQuat=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=r[0],l=r[1],u=r[2],s=r[3],M=s*e+l*o-u*n,c=s*n+u*e-i*o,f=s*o+i*n-l*e,h=-i*e-l*n-u*o;return t[0]=M*s+h*-i+c*-u-f*-l,t[1]=c*s+h*-l+f*-i-M*-u,t[2]=f*s+h*-u+M*-l-c*-i,t},n.rotateX=function(t,a,r,e){var n=[],o=[];return n[0]=a[0]-r[0],n[1]=a[1]-r[1],n[2]=a[2]-r[2],o[0]=n[0],o[1]=n[1]*Math.cos(e)-n[2]*Math.sin(e),o[2]=n[1]*Math.sin(e)+n[2]*Math.cos(e),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},n.rotateY=function(t,a,r,e){var n=[],o=[];return n[0]=a[0]-r[0],n[1]=a[1]-r[1],n[2]=a[2]-r[2],o[0]=n[2]*Math.sin(e)+n[0]*Math.cos(e),o[1]=n[1],o[2]=n[2]*Math.cos(e)-n[0]*Math.sin(e),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},n.rotateZ=function(t,a,r,e){var n=[],o=[];return n[0]=a[0]-r[0],n[1]=a[1]-r[1],n[2]=a[2]-r[2],o[0]=n[0]*Math.cos(e)-n[1]*Math.sin(e),o[1]=n[0]*Math.sin(e)+n[1]*Math.cos(e),o[2]=n[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},n.forEach=function(){var t=n.create();return function(a,r,e,n,o,i){var l,u;for(r||(r=3),e||(e=0),u=n?Math.min(n*r+e,a.length):a.length,l=e;u>l;l+=r)t[0]=a[l],t[1]=a[l+1],t[2]=a[l+2],o(t,t,i),a[l]=t[0],a[l+1]=t[1],a[l+2]=t[2];return a}}(),n.angle=function(t,a){var r=n.fromValues(t[0],t[1],t[2]),e=n.fromValues(a[0],a[1],a[2]);n.normalize(r,r),n.normalize(e,e);var o=n.dot(r,e);return o>1?0:Math.acos(o)},n.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]},n.equals=function(t,a){var r=t[0],n=t[1],o=t[2],i=a[0],l=a[1],u=a[2];return Math.abs(r-i)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-l)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-u)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},t.exports=n},function(t,a,r){var e=r(1),n={};n.create=function(){var t=new e.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},n.clone=function(t){var a=new e.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},n.fromValues=function(t,a,r,n){var o=new e.ARRAY_TYPE(4);return o[0]=t,o[1]=a,o[2]=r,o[3]=n,o},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},n.set=function(t,a,r,e,n){return t[0]=a,t[1]=r,t[2]=e,t[3]=n,t},n.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t},n.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t},n.sub=n.subtract,n.multiply=function(t,a,r){return t[0]=a[0]*r[0],t[1]=a[1]*r[1],t[2]=a[2]*r[2],t[3]=a[3]*r[3],t},n.mul=n.multiply,n.divide=function(t,a,r){return t[0]=a[0]/r[0],t[1]=a[1]/r[1],t[2]=a[2]/r[2],t[3]=a[3]/r[3],t},n.div=n.divide,n.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t[3]=Math.ceil(a[3]),t},n.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t[3]=Math.floor(a[3]),t},n.min=function(t,a,r){return t[0]=Math.min(a[0],r[0]),t[1]=Math.min(a[1],r[1]),t[2]=Math.min(a[2],r[2]),t[3]=Math.min(a[3],r[3]),t},n.max=function(t,a,r){return t[0]=Math.max(a[0],r[0]),t[1]=Math.max(a[1],r[1]),t[2]=Math.max(a[2],r[2]),t[3]=Math.max(a[3],r[3]),t},n.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t[3]=Math.round(a[3]),t},n.scale=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t},n.scaleAndAdd=function(t,a,r,e){return t[0]=a[0]+r[0]*e,t[1]=a[1]+r[1]*e,t[2]=a[2]+r[2]*e,t[3]=a[3]+r[3]*e,t},n.distance=function(t,a){var r=a[0]-t[0],e=a[1]-t[1],n=a[2]-t[2],o=a[3]-t[3];return Math.sqrt(r*r+e*e+n*n+o*o)},n.dist=n.distance,n.squaredDistance=function(t,a){var r=a[0]-t[0],e=a[1]-t[1],n=a[2]-t[2],o=a[3]-t[3];return r*r+e*e+n*n+o*o},n.sqrDist=n.squaredDistance,n.length=function(t){var a=t[0],r=t[1],e=t[2],n=t[3];return Math.sqrt(a*a+r*r+e*e+n*n)},n.len=n.length,n.squaredLength=function(t){var a=t[0],r=t[1],e=t[2],n=t[3];return a*a+r*r+e*e+n*n},n.sqrLen=n.squaredLength,n.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=-a[3],t},n.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t[3]=1/a[3],t},n.normalize=function(t,a){var r=a[0],e=a[1],n=a[2],o=a[3],i=r*r+e*e+n*n+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=r*i,t[1]=e*i,t[2]=n*i,t[3]=o*i),t},n.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]+t[3]*a[3]},n.lerp=function(t,a,r,e){var n=a[0],o=a[1],i=a[2],l=a[3];return t[0]=n+e*(r[0]-n),t[1]=o+e*(r[1]-o),t[2]=i+e*(r[2]-i),t[3]=l+e*(r[3]-l),t},n.random=function(t,a){return a=a||1,t[0]=e.RANDOM(),t[1]=e.RANDOM(),t[2]=e.RANDOM(),t[3]=e.RANDOM(),n.normalize(t,t),n.scale(t,t,a),t},n.transformMat4=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=a[3];return t[0]=r[0]*e+r[4]*n+r[8]*o+r[12]*i,t[1]=r[1]*e+r[5]*n+r[9]*o+r[13]*i,t[2]=r[2]*e+r[6]*n+r[10]*o+r[14]*i,t[3]=r[3]*e+r[7]*n+r[11]*o+r[15]*i,t},n.transformQuat=function(t,a,r){var e=a[0],n=a[1],o=a[2],i=r[0],l=r[1],u=r[2],s=r[3],M=s*e+l*o-u*n,c=s*n+u*e-i*o,f=s*o+i*n-l*e,h=-i*e-l*n-u*o;return t[0]=M*s+h*-i+c*-u-f*-l,t[1]=c*s+h*-l+f*-i-M*-u,t[2]=f*s+h*-u+M*-l-c*-i,t[3]=a[3],t},n.forEach=function(){var t=n.create();return function(a,r,e,n,o,i){var l,u;for(r||(r=4),e||(e=0),u=n?Math.min(n*r+e,a.length):a.length,l=e;u>l;l+=r)t[0]=a[l],t[1]=a[l+1],t[2]=a[l+2],t[3]=a[l+3],o(t,t,i),a[l]=t[0],a[l+1]=t[1],a[l+2]=t[2],a[l+3]=t[3];return a}}(),n.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},n.equals=function(t,a){var r=t[0],n=t[1],o=t[2],i=t[3],l=a[0],u=a[1],s=a[2],M=a[3];return Math.abs(r-l)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-u)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-s)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-M)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))},t.exports=n},function(t,a,r){var e=r(1),n={};n.create=function(){var t=new e.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},n.clone=function(t){var a=new e.ARRAY_TYPE(2);return a[0]=t[0],a[1]=t[1],a},n.fromValues=function(t,a){var r=new e.ARRAY_TYPE(2);return r[0]=t,r[1]=a,r},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t},n.set=function(t,a,r){return t[0]=a,t[1]=r,t},n.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t},n.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t},n.sub=n.subtract,n.multiply=function(t,a,r){return t[0]=a[0]*r[0],t[1]=a[1]*r[1],t},n.mul=n.multiply,n.divide=function(t,a,r){return t[0]=a[0]/r[0],t[1]=a[1]/r[1],t},n.div=n.divide,n.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t},n.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t},n.min=function(t,a,r){return t[0]=Math.min(a[0],r[0]),t[1]=Math.min(a[1],r[1]),t},n.max=function(t,a,r){return t[0]=Math.max(a[0],r[0]),t[1]=Math.max(a[1],r[1]),t},n.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t},n.scale=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t},n.scaleAndAdd=function(t,a,r,e){return t[0]=a[0]+r[0]*e,t[1]=a[1]+r[1]*e,t},n.distance=function(t,a){var r=a[0]-t[0],e=a[1]-t[1];return Math.sqrt(r*r+e*e)},n.dist=n.distance,n.squaredDistance=function(t,a){var r=a[0]-t[0],e=a[1]-t[1];return r*r+e*e},n.sqrDist=n.squaredDistance,n.length=function(t){var a=t[0],r=t[1];return Math.sqrt(a*a+r*r)},n.len=n.length,n.squaredLength=function(t){var a=t[0],r=t[1];return a*a+r*r},n.sqrLen=n.squaredLength,n.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t},n.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t},n.normalize=function(t,a){var r=a[0],e=a[1],n=r*r+e*e;return n>0&&(n=1/Math.sqrt(n),t[0]=a[0]*n,t[1]=a[1]*n),t},n.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]},n.cross=function(t,a,r){var e=a[0]*r[1]-a[1]*r[0];return t[0]=t[1]=0,t[2]=e,t},n.lerp=function(t,a,r,e){var n=a[0],o=a[1];return t[0]=n+e*(r[0]-n),t[1]=o+e*(r[1]-o),t},n.random=function(t,a){a=a||1;var r=2*e.RANDOM()*Math.PI;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t},n.transformMat2=function(t,a,r){var e=a[0],n=a[1];return t[0]=r[0]*e+r[2]*n,t[1]=r[1]*e+r[3]*n,t},n.transformMat2d=function(t,a,r){var e=a[0],n=a[1];return t[0]=r[0]*e+r[2]*n+r[4],t[1]=r[1]*e+r[3]*n+r[5],t},n.transformMat3=function(t,a,r){var e=a[0],n=a[1];return t[0]=r[0]*e+r[3]*n+r[6],t[1]=r[1]*e+r[4]*n+r[7],t},n.transformMat4=function(t,a,r){var e=a[0],n=a[1];return t[0]=r[0]*e+r[4]*n+r[12],t[1]=r[1]*e+r[5]*n+r[13],t},n.forEach=function(){var t=n.create();return function(a,r,e,n,o,i){var l,u;for(r||(r=2),e||(e=0),u=n?Math.min(n*r+e,a.length):a.length,l=e;u>l;l+=r)t[0]=a[l],t[1]=a[l+1],o(t,t,i),a[l]=t[0],a[l+1]=t[1];return a}}(),n.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]},n.equals=function(t,a){var r=t[0],n=t[1],o=a[0],i=a[1];return Math.abs(r-o)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-i)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))},t.exports=n}])})}).call(a,r(18)(t))},function(t,a,r){"use strict";(function(t,e){var n=r(3),o=Object.create(n.a);o.animateModel=function(a){this.selfR+=60*a/1e3*this.selfRSpeed,this.obitalR+=60*a/1e3*this.obitalRSpeed,t.mat4.identity(this.mvMatrix),t.mat4.rotate(this.mvMatrix,this.mvMatrix,e.degToRad(this.obitalInclination),[0,0,1]),t.mat4.rotate(this.mvMatrix,this.mvMatrix,e.degToRad(this.obitalR),[0,1,0]),t.mat4.translate(this.mvMatrix,this.mvMatrix,[this.dist,0,0]),"uranus"==this.name?t.mat4.rotate(this.mvMatrix,this.mvMatrix,e.degToRad(this.selfR),[1,0,0]):t.mat4.rotate(this.mvMatrix,this.mvMatrix,e.degToRad(this.selfR),[0,1,0])},a.a=o}).call(a,r(0),r(4))},function(t,a,r){"use strict";(function(t){var e=r(7),n=Object.create(e.a);n.mvMatrix=t.mat4.create(),n.prepareData=function(){this.vertexPositionData=[],this.colorData=[],this.vertexPositionData=[this.p0[0],this.p0[1],this.p0[2],this.p1[0],this.p1[1],this.p1[2]],this.vertexColorData=[1,0,0,1,0,0]},n.animate=function(){t.mat4.identity(this.mvMatrix)},a.a=n}).call(a,r(0))},function(t,a,r){"use strict";(function(t){var e=r(8),n=Object.create(e.a);n.intersectionCheck=function(a,r){var e=t.vec4.fromValues(0,0,0,1);t.vec3.transformMat4(e,e,this.mvMatrix);var n=t.vec3.subtract(t.vec3.create(),a,e),o=t.vec3.dot(r,n),i=t.vec3.squaredDistance(a,e)-this.radius*this.radius,l=o*o-i;return l<0?-1:-o-Math.sqrt(l)},n.prepareData=function(){this.radius||alert("球体半径未定义");var t=this.radius;this.vertexPositionData=[],this.normalData=[],this.textureCoordData=[],this.indexData=[];for(var a=0;a<=30;++a)for(var r=a*Math.PI/30,e=Math.sin(r),n=Math.cos(r),o=0;o<=30;++o){var i=2*o*Math.PI/30,l=Math.sin(i),u=Math.cos(i),s=u*e,M=n,c=l*e,f=1-o/30,h=1-a/30;this.normalData.push(s),this.normalData.push(M),this.normalData.push(c),this.textureCoordData.push(f),this.textureCoordData.push(h),this.vertexPositionData.push(t*s),this.vertexPositionData.push(t*M),this.vertexPositionData.push(t*c)}for(var x=0;x<30;x++)for(var m=0;m<30;m++){var d=31*x+m,S=d+30+1;this.indexData.push(d),this.indexData.push(S),this.indexData.push(d+1),this.indexData.push(S),this.indexData.push(S+1),this.indexData.push(d+1)}},a.a=n}).call(a,r(0))},function(t,a,r){"use strict";function e(t){var a="";if(t)for(var r=t.firstChild;r;)3==r.nodeType&&(a+=r.textContent),r=r.nextSibling;return a}function n(t){return t*Math.PI/180}Object.defineProperty(a,"__esModule",{value:!0}),a.getNodeText=e,a.degToRad=n},function(t,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=r(6),n=r(15),o=r(12),i=r(17),l=r(9),u=r(11),s=r(10),M=r(14),c=r(16),f=r(13),h=r(2),x=Object.create(h.a);x.p0={x:0,y:0,z:0},x.p1={x:-10,y:0,z:0};var m=Object.create(h.a);m.p0={x:0,y:0,z:-50},m.p1={x:-20,y:0,z:100},window.onload=function(){var t=new e.a("solorSys","vsShader","fsShader");t.init(),t.addModel(n.a),t.addModel(o.a),t.addModel(i.a),t.addModel(l.a),t.addModel(u.a),t.addModel(s.a),t.addModel(M.a),t.addModel(c.a),t.addModel(f.a),t.run()}},function(t,a,r){"use strict";(function(t,e){function n(a,r,n){this.shaderProgram,this.models=[],this.camera={pos:[0,0,-50],lookAt:[0,0,0],up:[0,1,0]},this.vMatrix=i.mat4.create(),this.pMatrix=i.mat4.create(),this.lastTime=0,this.init=function(){var e=document.getElementById(a),o=t.getNodeText(document.getElementById(r)),i=t.getNodeText(document.getElementById(n));this.initGL(e),this.initShaders(o,i)},this.bindEvent=function(){var a=this;document.body.addEventListener("keydown",function(r){var n=0,o=e.vec3.create();switch(e.vec3.subtract(o,a.camera.lookAt,a.camera.pos),e.vec3.normalize(o,o),r.keyCode){case 87:e.vec3.add(a.camera.pos,a.camera.pos,o);break;case 83:e.vec3.subtract(a.camera.pos,a.camera.pos,o);break;case 38:n=3,e.vec3.rotateX(a.camera.pos,a.camera.pos,[1,0,0],t.degToRad(n));break;case 40:n=-3,e.vec3.rotateX(a.camera.pos,a.camera.pos,[1,0,0],t.degToRad(n));break;case 37:case 65:n=-3,e.vec3.rotateY(a.camera.pos,a.camera.pos,[0,1,0],t.degToRad(n));break;case 39:case 68:n=3,e.vec3.rotateY(a.camera.pos,a.camera.pos,[0,1,0],t.degToRad(n))}}),window.addEventListener("wheel",function(t){var r=e.vec3.create();e.vec3.subtract(r,a.camera.lookAt,a.camera.pos),e.vec3.normalize(r,r),t.deltaY>0?e.vec3.subtract(a.camera.pos,a.camera.pos,r):t.deltaY<0&&e.vec3.add(a.camera.pos,a.camera.pos,r)}),window.addEventListener("mousedown",function(t){var r=t.target.getBoundingClientRect(),n=t.pageX-r.left,o=t.pageY-r.top,l=2*n/gl.viewportWidth-1,u=1-2*o/gl.viewportHeight,s=e.vec3.fromValues(l,u,-1);e.vec3.transformMat4(s,s,i.mat4.invert(i.mat4.create(),a.pMatrix)),e.vec3.transformMat4(s,s,i.mat4.invert(i.mat4.create(),a.vMatrix)),e.vec3.subtract(s,s,a.camera.pos),e.vec3.normalize(s,s),a.checkModelSelected(s)}),window.addEventListener("mousemove",function(t){}),window.addEventListener("mouseup",function(t){})},this.checkModelSelected=function(t){var a=this,r=Object.create(o.a);r.p0=this.camera.pos,r.p1=e.vec3.add(e.vec3.create(),this.camera.pos,e.vec3.scale(e.vec3.create(),t,1e3)),this.addModel(r);var n=null;this.models.forEach(function(r){if(r.checkInterSection){var e=r.checkInterSection(a.camera.pos,t);e>=0&&(n=e<1e4?r:n)}}),n&&alert(n.name)},this.bindShaderVariable=function(){var t=this.shaderProgram;t.vertexPositionAttribute=gl.getAttribLocation(t,"aVertexPosition"),gl.enableVertexAttribArray(t.vertexPositionAttribute),t.vertexNormalAttribute=gl.getAttribLocation(t,"aVertexNormal"),t.vertexColorAttribute=gl.getAttribLocation(t,"aVertexColor"),t.textureCoordAttribute=gl.getAttribLocation(t,"aTextureCoord"),t.pMatrixUniform=gl.getUniformLocation(t,"uPMatrix"),t.mvMatrixUniform=gl.getUniformLocation(t,"uMVMatrix"),t.vMatrixUniform=gl.getUniformLocation(t,"uVMatrix"),t.nMatrixUniform=gl.getUniformLocation(t,"uNMatrix"),t.lightColorUniform=gl.getUniformLocation(t,"uLightColor"),t.lightPosUniform=gl.getUniformLocation(t,"uLightPos"),t.ambientColorUniform=gl.getUniformLocation(t,"uAmbientColor"),t.useLightingUniform=gl.getUniformLocation(t,"uUseLighting"),t.useTexture=gl.getUniformLocation(t,"uUseTexture")},this.addModel=function(t){t.init(),this.models.push(t)},this.run=function(){this.init(),this.bindEvent(),this.animate()},this.animate=function(){this.draw();var t=(new Date).getTime();if(0!=this.lastTime){var a=t-this.lastTime;this.models.forEach(function(t){t.animate&&t.animate(a)})}this.lastTime=t,requestAnimationFrame(this.animate.bind(this))},this.draw=function(){var t=this;gl.viewport(0,0,gl.viewportWidth,gl.viewportHeight),gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT),i.mat4.lookAt(this.vMatrix,this.camera.pos,this.camera.lookAt,this.camera.up),gl.uniformMatrix4fv(this.shaderProgram.vMatrixUniform,!1,this.vMatrix),i.mat4.perspective(this.pMatrix,45,gl.viewportWidth/gl.viewportHeight,.1,100),gl.uniformMatrix4fv(this.shaderProgram.pMatrixUniform,!1,this.pMatrix),this.models.forEach(function(a){a.render(t.shaderProgram)})}}var o=r(2),i=r(0);r.n(i);a.a=n,n.prototype.initGL=function(t){t.width=window.innerWidth,t.height=window.innerHeight,gl=t.getContext("experimental-webgl"),gl.viewportWidth=t.width,gl.viewportHeight=t.height,gl||alert("您的浏览器不支持WebGL,请更换浏览器～"),gl.enable(gl.DEPTH_TEST)},n.prototype.initShaders=function(t,a){this.shaderProgram=gl.createProgram();var r=this.shaderProgram,e=gl.createShader(gl.VERTEX_SHADER),n=gl.createShader(gl.FRAGMENT_SHADER),o=function(t,a){if(gl.shaderSource(t,a),gl.compileShader(t),!gl.getShaderParameter(t,gl.COMPILE_STATUS))return alert(gl.getShaderInfoLog(t)),null};o(e,t),o(n,a),gl.attachShader(r,e),gl.attachShader(r,n),gl.linkProgram(r),gl.getProgramParameter(r,gl.LINK_STATUS)||alert("Could not initialize shaders"),gl.useProgram(r),this.bindShaderVariable()}}).call(a,r(4),r(0))},function(t,a,r){"use strict";(function(t){a.a={vertexBuffer:null,indicesBuffer:null,normalBuffer:null,textureCoordBuffer:null,texture:null,renderable:!1,mvMatrix:t.mat4.create(),initBuffers:function(){this.vertexBuffer=gl.createBuffer(),this.colorBuffer=gl.createBuffer(),this.prepareData?this.prepareData():alert("模型没有定义数据初始化函数！"),gl.bindBuffer(gl.ARRAY_BUFFER,this.vertexBuffer),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(this.vertexPositionData),gl.STATIC_DRAW),this.vertexBuffer.itemNum=3,this.vertexBuffer.numSize=this.vertexPositionData.length/3,gl.bindBuffer(gl.ARRAY_BUFFER,this.colorBuffer),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(this.vertexColorData),gl.STATIC_DRAW),this.colorBuffer.itemNum=3,this.colorBuffer.numSize=this.vertexColorData.length/3},init:function(){this.initBuffers()},render:function(t){gl.enableVertexAttribArray(t.vertexColorAttribute),gl.disableVertexAttribArray(t.textureCoordAttribute),gl.disableVertexAttribArray(t.vertexNormalAttribute),gl.uniform1i(t.useTexture,!1),gl.bindBuffer(gl.ARRAY_BUFFER,this.vertexBuffer),gl.vertexAttribPointer(t.vertexPositionAttribute,this.vertexBuffer.itemNum,gl.FLOAT,!1,0,0),gl.bindBuffer(gl.ARRAY_BUFFER,this.colorBuffer),gl.vertexAttribPointer(t.vertexColorAttribute,this.colorBuffer.itemNum,gl.FLOAT,!1,0,0),gl.uniformMatrix4fv(t.mvMatrixUniform,!1,this.mvMatrix),gl.drawArrays(gl.LINES,0,this.vertexBuffer.numSize)}}}).call(a,r(0))},function(t,a,r){"use strict";(function(t){a.a={vertexBuffer:null,indicesBuffer:null,normalBuffer:null,textureCoordBuffer:null,texture:null,renderable:!1,mvMatrix:t.mat4.create(),initBuffers:function(){this.vertexBuffer=gl.createBuffer(),this.indicesBuffer=gl.createBuffer(),this.normalBuffer=gl.createBuffer(),this.textureCoordBuffer=gl.createBuffer(),this.prepareData?this.prepareData():alert("模型没有定义数据初始化函数！"),gl.bindBuffer(gl.ARRAY_BUFFER,this.vertexBuffer),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(this.vertexPositionData),gl.STATIC_DRAW),this.vertexBuffer.itemNum=3,this.vertexBuffer.numSize=this.vertexPositionData.length/3,gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.indexData),gl.STATIC_DRAW),this.indicesBuffer.itemSize=1,this.indicesBuffer.numItems=this.indexData.length,gl.bindBuffer(gl.ARRAY_BUFFER,this.normalBuffer),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(this.normalData),gl.STATIC_DRAW),this.normalBuffer.itemNum=3,this.normalBuffer.numSize=this.normalData.length/3,gl.bindBuffer(gl.ARRAY_BUFFER,this.textureCoordBuffer),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(this.textureCoordData),gl.STATIC_DRAW),this.textureCoordBuffer.itemNum=2,this.textureCoordBuffer.numSize=this.textureCoordData.length/2},initTexture:function(){var t=this;this.textureSrc||alert("模型纹理未定义"),this.texture=gl.createTexture(),this.texture.image=new Image,this.texture.image.onload=function(){gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),gl.bindTexture(gl.TEXTURE_2D,t.texture),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,t.texture.image),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR),gl.bindTexture(gl.TEXTURE_2D,null),t.renderable=!0},this.texture.image.src=this.textureSrc},init:function(){this.initBuffers(),this.initTexture()},checkInterSection:function(t,a){return!!this.intersectionCheck&&this.intersectionCheck(t,a)},animate:function(t){this.animateModel&&this.animateModel(t)},render:function(a){if(this.renderable){gl.enableVertexAttribArray(a.vertexNormalAttribute),gl.enableVertexAttribArray(a.textureCoordAttribute),gl.disableVertexAttribArray(a.vertexColorAttribute),gl.uniform1i(a.useTexture,!0),gl.uniform1i(a.useLightingUniform,!0),gl.bindBuffer(gl.ARRAY_BUFFER,this.vertexBuffer),gl.vertexAttribPointer(a.vertexPositionAttribute,this.vertexBuffer.itemNum,gl.FLOAT,!1,0,0),gl.bindBuffer(gl.ARRAY_BUFFER,this.normalBuffer),gl.vertexAttribPointer(a.vertexNormalAttribute,this.normalBuffer.itemNum,gl.FLOAT,!1,0,0),gl.bindBuffer(gl.ARRAY_BUFFER,this.textureCoordBuffer),gl.vertexAttribPointer(a.textureCoordAttribute,this.textureCoordBuffer.itemNum,gl.FLOAT,!1,0,0),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,this.texture),gl.uniform1i(a.samplerUniform,0),gl.uniformMatrix4fv(a.mvMatrixUniform,!1,this.mvMatrix);var r=t.mat3.create();t.mat3.fromMat4(r,this.mvMatrix),t.mat3.invert(r,r),t.mat3.transpose(r,r),gl.uniformMatrix3fv(a.nMatrixUniform,!1,r),gl.uniform3f(a.lightPosUniform,0,0,0),gl.uniform3f(a.lightColorUniform,1,1,1),gl.uniform3f(a.ambientColorUniform,.25,.25,.25),this.controlShaderProgram&&this.controlShaderProgram(a),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),gl.drawElements(gl.TRIANGLES,this.indicesBuffer.numItems,gl.UNSIGNED_SHORT,0)}}}}).call(a,r(0))},function(t,a,r){"use strict";(function(t){var e=r(1),n=Object.create(e.a);n.name="地球",n.textureSrc=r(19),n.selfR=0,n.obitalR=Math.floor(360*Math.random()),n.mvMatrix=t.mat4.create(),n.dist=2*baseDist,n.radius=1.5*baseRadius,n.selfRSpeed=baseSelfRSpeed,n.obitalRSpeed=baseSelfRSpeed/365,n.obitalInclination=0,a.a=n}).call(a,r(0))},function(t,a,r){"use strict";(function(t){var e=r(1),n=Object.create(e.a);n.name="木星",n.textureSrc=r(20),n.selfR=0,n.obitalR=Math.floor(360*Math.random()),n.mvMatrix=t.mat4.create(),n.dist=5*baseDist,n.radius=10*baseRadius,n.selfRSpeed=baseSelfRSpeed/.41,n.obitalRSpeed=baseSelfRSpeed/4325.25,n.obitalInclination=1.3,a.a=n}).call(a,r(0))},function(t,a,r){"use strict";(function(t){var e=r(1),n=Object.create(e.a);n.name="火星",n.textureSrc=r(21),n.selfR=0,n.obitalR=Math.floor(360*Math.random()),n.mvMatrix=t.mat4.create(),n.dist=2.5*baseDist,n.radius=1.3*baseRadius,n.selfRSpeed=baseSelfRSpeed,n.obitalRSpeed=baseSelfRSpeed/687,n.obitalInclination=1.85,a.a=n}).call(a,r(0))},function(t,a,r){"use strict";(function(t){var e=r(1),n=Object.create(e.a);n.name="水星",n.textureSrc=r(22),n.selfR=0,n.obitalR=Math.floor(360*Math.random()),n.mvMatrix=t.mat4.create(),n.dist=baseDist,n.radius=baseRadius,n.selfRSpeed=baseSelfRSpeed/58.64,n.obitalRSpeed=baseSelfRSpeed/88,n.obitalInclination=7,a.a=n}).call(a,r(0))},function(t,a,r){"use strict";(function(t){var e=r(1),n=Object.create(e.a);n.name="天王星",n.textureSrc=r(23),n.selfR=0,n.obitalR=Math.floor(360*Math.random()),n.mvMatrix=t.mat4.create(),n.dist=8*baseDist,n.radius=2*baseRadius,n.selfRSpeed=baseSelfRSpeed/.67,n.obitalRSpeed=baseSelfRSpeed/(164.8*365),n.obitalInclination=1.77,a.a=n}).call(a,r(0))},function(t,a,r){"use strict";(function(t){var e=r(1),n=Object.create(e.a);n.name="土星",n.textureSrc=r(24),n.selfR=0,n.obitalR=Math.floor(360*Math.random()),n.mvMatrix=t.mat4.create(),n.dist=6*baseDist,n.radius=4*baseRadius,n.selfRSpeed=baseSelfRSpeed/.44,n.obitalRSpeed=baseSelfRSpeed/10749.25,n.obitalInclination=2.49,a.a=n}).call(a,r(0))},function(t,a,r){"use strict";(function(t){var e=r(3),n=Object.create(e.a);n.radius=28*baseRadius,n.textureSrc=r(25),n.mvMatrix=t.mat4.create(),n.name="太阳",n.animateModel=function(a){t.mat4.identity(this.mvMatrix)},n.controlShaderProgram=function(t){gl.uniform1i(t.useLightingUniform,!1)},a.a=n}).call(a,r(0))},function(t,a,r){"use strict";(function(t){var e=r(1),n=Object.create(e.a);n.name="海王星",n.textureSrc=r(26),n.selfR=0,n.obitalR=Math.floor(360*Math.random()),n.mvMatrix=t.mat4.create(),n.dist=7*baseDist,n.radius=2*baseRadius,n.selfRSpeed=baseSelfRSpeed/.72,n.obitalRSpeed=baseSelfRSpeed/30660,n.obitalInclination=.77,a.a=n}).call(a,r(0))},function(t,a,r){"use strict";(function(t){var e=r(1),n=Object.create(e.a);n.name="金星",n.textureSrc=r(27),n.selfR=0,n.obitalR=Math.floor(360*Math.random()),n.mvMatrix=t.mat4.create(),n.dist=1.5*baseDist,n.radius=2.5*baseRadius,n.selfRSpeed=baseSelfRSpeed/243,n.obitalRSpeed=-baseSelfRSpeed/224.65,n.obitalInclination=3.39,a.a=n}).call(a,r(0))},function(t,a){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,a,r){t.exports=r.p+"b07dffb39178b6c32ded56481356ffaa.jpg"},function(t,a,r){t.exports=r.p+"fefca60b81e2275e87eb23dad7638952.jpg"},function(t,a,r){t.exports=r.p+"abe253b1ca7c50d74d26d67b47942f93.jpg"},function(t,a,r){t.exports=r.p+"a943d6edb9bfb1424c425686d92094f9.jpg"},function(t,a,r){t.exports=r.p+"746d7a4c3f024a3cc6eed7612e3af29b.jpg"},function(t,a,r){t.exports=r.p+"36420c6093fb368761dcb051264b43b5.jpg"},function(t,a,r){t.exports=r.p+"21d8af976122b91d4f535e560606b630.jpg"},function(t,a,r){t.exports=r.p+"00fb93bb3492426cdc24dd5dbdad06d9.jpg"},function(t,a,r){t.exports=r.p+"fce1aedd5df84ad9b237c46627b56181.jpg"},function(t,a,r){t.exports=r(5)}]);